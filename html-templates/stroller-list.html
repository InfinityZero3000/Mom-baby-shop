<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xe đẩy trẻ em - MomBabyShop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="common.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pattaya&family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .font-pattaya {
            font-family: 'Pattaya', cursive;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-white min-h-screen">
    <!-- Notification -->
    <div id="notification" class="notification">
        <div id="notification-content" class="bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
            <p id="notification-message"></p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="w-full py-6 px-8 lg:px-20 border-b border-gray-100">        <div class="flex justify-between items-center">
            <div class="flex items-center space-x-8">
                <div class="text-3xl font-bold logo cursor-pointer" data-nav-target="mombabyshop-html.html">
                    <span class="text-[#ef62f9]">MomBaby</span>
                    <span class="text-[#0bbdf8] font-pattaya">Shop</span>
                </div>
                <div class="hidden lg:flex space-x-8">
                    <a href="mombabyshop-html.html" class="font-semibold text-gray-800 hover:text-[#ef62f9]" data-nav-target="mombabyshop-html.html">TRANG CHỦ</a>
                    <a href="stroller-list.html" class="font-semibold text-[#ef62f9]" data-nav-target="stroller-list.html">XE ĐẨY</a>
                    <a href="clothing-list.html" class="font-semibold text-gray-800 hover:text-[#ef62f9]" data-nav-target="clothing-list.html">QUẦN ÁO</a>
                    <a href="product-list.html" class="font-semibold text-gray-800 hover:text-[#ef62f9]" data-nav-target="product-list.html">SẢN PHẨM</a>
                </div>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative hidden md:block">
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input 
                        id="searchInput"
                        placeholder="Tìm kiếm xe đẩy..."
                        class="pl-10 w-80 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ef62f9] focus:border-transparent"
                    />
                </div>
                <button class="p-2 text-gray-600 hover:text-[#ef62f9] transition-colors">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                    </svg>
                </button>                <button id="cartButton" class="p-2 text-gray-600 hover:text-[#ef62f9] transition-colors relative cart-button">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M9 19.5h.01M20 19.5h.01"></path>
                    </svg>
                    <span id="cartCount" class="absolute -top-2 -right-2 bg-[#ef62f9] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden cart-count">0</span>
                </button>
            </div>
        </div>
    </nav>    <!-- Breadcrumb -->
    <div class="px-8 lg:px-20 py-4 text-sm text-gray-600">
        <span class="cursor-pointer hover:text-[#ef62f9]" data-nav-target="mombabyshop-html.html">Trang chủ</span> <span class="mx-2">/</span> <span class="text-[#ef62f9]">Xe đẩy trẻ em</span>
    </div>

    <div class="px-8 lg:px-20 py-8">
        <!-- Page Header -->
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">Xe đẩy trẻ em</h1>
            <p class="text-gray-600">Khám phá bộ sưu tập xe đẩy cao cấp cho bé yêu</p>
        </div>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Sidebar Filters -->
            <div class="lg:w-1/4">
                <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                    <h3 class="font-semibold text-lg mb-4 flex items-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"></path>
                        </svg>
                        Bộ lọc
                    </h3>

                    <!-- Brand Filter -->
                    <div class="mb-6">
                        <h4 class="font-medium mb-3">Thương hiệu</h4>
                        <div id="brandFilters">
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="Joie" class="mr-2 brand-filter">
                                <span class="text-sm">Joie</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="Chicco" class="mr-2 brand-filter">
                                <span class="text-sm">Chicco</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="Baby Jogger" class="mr-2 brand-filter">
                                <span class="text-sm">Baby Jogger</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="Maxi-Cosi" class="mr-2 brand-filter">
                                <span class="text-sm">Maxi-Cosi</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="Bugaboo" class="mr-2 brand-filter">
                                <span class="text-sm">Bugaboo</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="checkbox" value="UPPAbaby" class="mr-2 brand-filter">
                                <span class="text-sm">UPPAbaby</span>
                            </label>
                        </div>
                    </div>

                    <div class="border-t border-gray-200 my-4"></div>

                    <!-- Price Range Filter -->
                    <div class="mb-6">
                        <h4 class="font-medium mb-3">Khoảng giá</h4>
                        <div id="priceFilters">
                            <label class="flex items-center mb-2">
                                <input type="radio" name="priceRange" value="Dưới 5 triệu" class="mr-2 price-filter">
                                <span class="text-sm">Dưới 5 triệu</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="radio" name="priceRange" value="5 - 10 triệu" class="mr-2 price-filter">
                                <span class="text-sm">5 - 10 triệu</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="radio" name="priceRange" value="10 - 15 triệu" class="mr-2 price-filter">
                                <span class="text-sm">10 - 15 triệu</span>
                            </label>
                            <label class="flex items-center mb-2">
                                <input type="radio" name="priceRange" value="Trên 15 triệu" class="mr-2 price-filter">
                                <span class="text-sm">Trên 15 triệu</span>
                            </label>
                        </div>
                    </div>

                    <button id="clearFilters" class="w-full border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                        Xóa bộ lọc
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="lg:w-3/4">
                <!-- Sort and View Controls -->
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
                    <p id="productCount" class="text-gray-600">
                        Hiển thị 6 của 6 sản phẩm
                    </p>
                    
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2">
                            <span class="text-sm">Sắp xếp:</span>
                            <select id="sortSelect" class="border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#ef62f9]">
                                <option value="popular">Phổ biến</option>
                                <option value="price-low">Giá thấp đến cao</option>
                                <option value="price-high">Giá cao đến thấp</option>
                                <option value="newest">Mới nhất</option>
                            </select>
                        </div>
                        
                        <div class="flex border border-gray-300 rounded">
                            <button id="gridView" class="px-3 py-1 bg-[#ef62f9] text-white">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path>
                                </svg>
                            </button>
                            <button id="listView" class="px-3 py-1 text-gray-600 hover:bg-gray-50">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Products Grid -->
                <div id="productsGrid" class="grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3">
                    <!-- Products will be loaded here by JavaScript -->
                </div>

                <!-- Pagination -->
                <div id="pagination" class="flex justify-center items-center mt-8 gap-2">
                    <!-- Pagination will be loaded here by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-50 mt-16 py-12 px-8 lg:px-20">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <div class="text-2xl font-bold mb-4">
                    <span class="text-[#ef62f9]">MomBaby</span>
                    <span class="text-[#0bbdf8] font-pattaya">Shop</span>
                </div>
                <p class="text-gray-600 text-sm">
                    Đồng hành cùng mẹ chăm sóc bé yêu với những sản phẩm chất lượng cao.
                </p>
            </div>
            
            <div>
                <h4 class="font-semibold mb-4">Sản phẩm</h4>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="stroller-list.html" class="hover:text-[#ef62f9]">Xe đẩy</a></li>
                    <li><a href="clothing-list.html" class="hover:text-[#ef62f9]">Quần áo bé</a></li>
                    <li><a href="product-list.html" class="hover:text-[#ef62f9]">Đồ chơi</a></li>
                    <li><a href="product-list.html" class="hover:text-[#ef62f9]">Sữa bột</a></li>
                </ul>
            </div>
            
            <div>
                <h4 class="font-semibold mb-4">Hỗ trợ</h4>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="mailto:info@mombabyshop.com" class="hover:text-[#ef62f9]">Liên hệ</a></li>
                    <li><a href="#" class="hover:text-[#ef62f9]">Chính sách đổi trả</a></li>
                    <li><a href="#" class="hover:text-[#ef62f9]">Hướng dẫn mua hàng</a></li>
                    <li><a href="#" class="hover:text-[#ef62f9]">FAQ</a></li>
                </ul>
            </div>
            
            <div>
                <h4 class="font-semibold mb-4">Kết nối</h4>
                <div class="flex space-x-4">
                    <button class="p-2 text-gray-600 hover:text-[#ef62f9] transition-colors">📘</button>
                    <button class="p-2 text-gray-600 hover:text-[#ef62f9] transition-colors">📷</button>
                    <button class="p-2 text-gray-600 hover:text-[#ef62f9] transition-colors">🐦</button>
                </div>
            </div>
        </div>
        
        <div class="border-t border-gray-200 my-8"></div>
        
        <div class="text-center text-sm text-gray-600">
            <p>&copy; 2024 MomBabyShop. Tất cả quyền được bảo lưu.</p>
        </div>
    </footer>

    <script>
        // Product data
        const strollerProducts = [
            {
                id: 1,
                name: "Xe đẩy trẻ em Joie Chrome DLX",
                brand: "Joie",
                price: "7.500.000 đ",
                originalPrice: "8.500.000 đ",
                image: "project/public/stroller-1.png",
                rating: 4.8,
                reviews: 156,
                discount: "12%",
                features: ["Gấp gọn", "Phanh 2 bánh", "Khóa an toàn"],
                colors: ["Xám", "Đen", "Xanh"],
                priceValue: 7500000
            },
            {
                id: 2,
                name: "Xe đẩy Chicco Bravo Trio",
                brand: "Chicco",
                price: "9.200.000 đ",
                originalPrice: null,
                image: "project/public/stroller-2.png",
                rating: 4.9,
                reviews: 203,
                discount: null,
                features: ["3 trong 1", "Tương thích car seat", "Bánh lớn"],
                colors: ["Đen", "Xám", "Nâu"],
                priceValue: 9200000
            },
            {
                id: 3,
                name: "Xe đẩy Baby Jogger City Mini GT2",
                brand: "Baby Jogger",
                price: "6.800.000 đ",
                originalPrice: "7.200.000 đ",
                image: "project/public/stroller-3.png",
                rating: 4.7,
                reviews: 89,
                discount: "6%",
                features: ["Bánh địa hình", "Gấp 1 tay", "Tựa đầu điều chỉnh"],
                colors: ["Đỏ", "Xanh", "Xám"],
                priceValue: 6800000
            },
            {
                id: 4,
                name: "Xe đẩy Maxi-Cosi Lara2",
                brand: "Maxi-Cosi",
                price: "4.500.000 đ",
                originalPrice: null,
                image: "project/public/stroller-4.png",
                rating: 4.6,
                reviews: 67,
                discount: null,
                features: ["Siêu nhẹ", "Gấp tự động", "UV Protection"],
                colors: ["Hồng", "Xanh", "Xám"],
                priceValue: 4500000
            },
            {
                id: 5,
                name: "Xe đẩy Bugaboo Fox 3",
                brand: "Bugaboo",
                price: "15.500.000 đ",
                originalPrice: "17.000.000 đ",
                image: "project/public/stroller-5.png",
                rating: 5.0,
                reviews: 124,
                discount: "9%",
                features: ["Premium", "Bánh lớn", "Khung nhôm cao cấp"],
                colors: ["Đen", "Trắng", "Xanh navy"],
                priceValue: 15500000
            },
            {
                id: 6,
                name: "Xe đẩy UPPAbaby Vista V2",
                brand: "UPPAbaby",
                price: "18.900.000 đ",
                originalPrice: null,
                image: "project/public/stroller-6.png",
                rating: 4.9,
                reviews: 178,
                discount: null,
                features: ["Mở rộng cho 2 bé", "Giỏ lớn", "Bánh đặc biệt"],
                colors: ["Xám", "Đen", "Xanh"],
                priceValue: 18900000
            }
        ];

        let currentViewMode = 'grid';
        let currentPage = 1;
        const productsPerPage = 6;
        let filteredProducts = [...strollerProducts];
        let wishlist = [];
        let cart = [];

        // Utility functions
        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<svg class="h-4 w-4 fill-yellow-400 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>';
                } else {
                    stars += '<svg class="h-4 w-4 text-gray-300" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>';
                }
            }
            return stars;
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const content = document.getElementById('notification-content');
            const messageElement = document.getElementById('notification-message');
            
            messageElement.textContent = message;
            
            if (type === 'success') {
                content.className = 'bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg';
            } else if (type === 'error') {
                content.className = 'bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg';
            } else {
                content.className = 'bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({...product, quantity: 1});
            }
            updateCartCount();
            showNotification(`${product.name} đã được thêm vào giỏ hàng!`, 'success');
        }

        function toggleWishlist(product) {
            const index = wishlist.findIndex(item => item.id === product.id);
            if (index > -1) {
                wishlist.splice(index, 1);
                showNotification(`${product.name} đã được xóa khỏi danh sách yêu thích`, 'info');
            } else {
                wishlist.push(product);
                showNotification(`${product.name} đã được thêm vào danh sách yêu thích`, 'success');
            }
            renderProducts();
        }

        function isInWishlist(productId) {
            return wishlist.some(item => item.id === productId);
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCount = document.getElementById('cartCount');
            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
            } else {
                cartCount.classList.add('hidden');
            }
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const selectedBrands = Array.from(document.querySelectorAll('.brand-filter:checked')).map(cb => cb.value);
            const selectedPriceRange = document.querySelector('.price-filter:checked')?.value;

            filteredProducts = strollerProducts.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm);
                const matchesBrand = selectedBrands.length === 0 || selectedBrands.includes(product.brand);
                let matchesPrice = true;

                if (selectedPriceRange) {
                    switch (selectedPriceRange) {
                        case 'Dưới 5 triệu':
                            matchesPrice = product.priceValue < 5000000;
                            break;
                        case '5 - 10 triệu':
                            matchesPrice = product.priceValue >= 5000000 && product.priceValue <= 10000000;
                            break;
                        case '10 - 15 triệu':
                            matchesPrice = product.priceValue > 10000000 && product.priceValue <= 15000000;
                            break;
                        case 'Trên 15 triệu':
                            matchesPrice = product.priceValue > 15000000;
                            break;
                    }
                }

                return matchesSearch && matchesBrand && matchesPrice;
            });

            currentPage = 1;
            renderProducts();
            renderPagination();
            updateProductCount();
        }

        function sortProducts() {
            const sortBy = document.getElementById('sortSelect').value;
            
            switch (sortBy) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.priceValue - b.priceValue);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.priceValue - a.priceValue);
                    break;
                case 'newest':
                    filteredProducts.sort((a, b) => b.id - a.id);
                    break;
                default:
                    filteredProducts.sort((a, b) => b.rating - a.rating);
            }
            
            renderProducts();
        }

        function updateProductCount() {
            const start = (currentPage - 1) * productsPerPage + 1;
            const end = Math.min(currentPage * productsPerPage, filteredProducts.length);
            document.getElementById('productCount').textContent = 
                `Hiển thị ${end - start + 1} của ${filteredProducts.length} sản phẩm`;
        }

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const startIndex = (currentPage - 1) * productsPerPage;
            const endIndex = startIndex + productsPerPage;
            const currentProducts = filteredProducts.slice(startIndex, endIndex);

            // Update grid classes based on view mode
            if (currentViewMode === 'grid') {
                grid.className = 'grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3';
            } else {
                grid.className = 'grid gap-6 grid-cols-1';
            }            grid.innerHTML = currentProducts.map(product => `
                <div class="bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow product-card" data-product-id="${product.id}" data-category="stroller">
                    <div class="${currentViewMode === 'list' ? 'flex' : ''}">
                        <!-- Product Image -->
                        <div class="relative ${currentViewMode === 'list' ? 'w-64 h-48' : 'w-full h-64'} bg-gray-50">
                            ${product.discount ? `
                                <div class="absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold z-10">
                                    -${product.discount}
                                </div>
                            ` : ''}
                            <button 
                                class="absolute top-2 right-2 z-10 p-2 rounded-full hover:bg-white/80 transition-colors wishlist-button"
                                onclick="toggleWishlist(${JSON.stringify(product).replace(/"/g, '&quot;')})"
                                data-product-id="${product.id}"
                            >
                                <svg class="h-4 w-4 ${isInWishlist(product.id) ? 'fill-red-500 text-red-500' : 'text-gray-400'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                </svg>
                            </button>
                            <img
                                src="${product.image}"
                                alt="${product.name}"
                                class="w-full h-full object-cover product-image cursor-pointer"
                                onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMzUgNzVIMTY1VjEyNUgxMzVWNzVaIiBmaWxsPSIjOUNBM0FGIi8+CjxwYXRoIGQ9Ik0xMjAgMTAwTDE4MCA5NUwxNzUgMTA1TDEyMCAxMDBaIiBmaWxsPSIjOUNBM0FGIi8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTYwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjNkI3MjgwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiPkjDrG5oPC90ZXh0Pgo8L3N2Zz4='"
                            />
                        </div>

                        <!-- Product Info -->
                        <div class="p-4 flex-1">
                            <div class="flex items-start justify-between mb-2">
                                <h3 class="font-semibold text-lg leading-6 line-clamp-2 product-name cursor-pointer">
                                    ${product.name}
                                </h3>
                            </div>
                            
                            <p class="text-sm text-gray-600 mb-2">${product.brand}</p>
                            
                            <div class="flex items-center mb-2">
                                <div class="flex">${renderStars(product.rating)}</div>
                                <span class="ml-2 text-sm text-gray-600">
                                    ${product.rating} (${product.reviews} đánh giá)
                                </span>
                            </div>

                            <div class="flex items-center gap-2 mb-3">
                                <span class="text-xl font-bold text-[#ef62f9] product-price">
                                    ${product.price}
                                </span>
                                ${product.originalPrice ? `
                                    <span class="text-sm text-gray-500 line-through">
                                        ${product.originalPrice}
                                    </span>
                                ` : ''}
                            </div>

                            <!-- Features -->
                            <div class="mb-3">
                                <div class="flex flex-wrap gap-1">
                                    ${product.features.slice(0, 3).map(feature => `
                                        <span class="bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded">
                                            ${feature}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Colors -->
                            <div class="mb-4">
                                <p class="text-xs text-gray-600 mb-1">Màu sắc:</p>
                                <div class="flex gap-1">
                                    ${product.colors.map(color => `
                                        <span class="text-xs bg-gray-100 px-2 py-1 rounded">
                                            ${color}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="flex gap-2">
                                <button 
                                    class="flex-1 bg-[#ef62f9] hover:bg-[#df52e9] text-white px-4 py-2 rounded-lg flex items-center justify-center transition-colors add-to-cart-button"
                                    onclick="addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')})"
                                    data-product-id="${product.id}"
                                >
                                    <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M9 19.5h.01M20 19.5h.01"></path>
                                    </svg>
                                    Thêm vào giỏ
                                </button>
                                <button class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors view-detail-button" data-product-id="${product.id}" data-category="stroller">
                                    Xem chi tiết
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderPagination() {
            const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = `
                <button 
                    class="p-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : ''}"
                    onclick="changePage(${currentPage - 1})"
                    ${currentPage === 1 ? 'disabled' : ''}
                >
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            `;

            for (let i = 1; i <= totalPages; i++) {
                paginationHTML += `
                    <button 
                        class="w-10 h-10 border rounded-lg ${currentPage === i ? 'bg-[#ef62f9] text-white border-[#ef62f9]' : 'border-gray-300 hover:bg-gray-50'}"
                        onclick="changePage(${i})"
                    >
                        ${i}
                    </button>
                `;
            }

            paginationHTML += `
                <button 
                    class="p-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : ''}"
                    onclick="changePage(${currentPage + 1})"
                    ${currentPage === totalPages ? 'disabled' : ''}
                >
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderProducts();
                renderPagination();
                updateProductCount();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', filterProducts);

            // Filter functionality
            document.querySelectorAll('.brand-filter, .price-filter').forEach(filter => {
                filter.addEventListener('change', filterProducts);
            });

            // Clear filters
            document.getElementById('clearFilters').addEventListener('click', function() {
                document.getElementById('searchInput').value = '';
                document.querySelectorAll('.brand-filter, .price-filter').forEach(filter => {
                    filter.checked = false;
                });
                filterProducts();
            });

            // Sort functionality
            document.getElementById('sortSelect').addEventListener('change', sortProducts);

            // View mode toggle
            document.getElementById('gridView').addEventListener('click', function() {
                currentViewMode = 'grid';
                this.classList.add('bg-[#ef62f9]', 'text-white');
                this.classList.remove('text-gray-600');
                document.getElementById('listView').classList.remove('bg-[#ef62f9]', 'text-white');
                document.getElementById('listView').classList.add('text-gray-600');
                renderProducts();
            });

            document.getElementById('listView').addEventListener('click', function() {
                currentViewMode = 'list';
                this.classList.add('bg-[#ef62f9]', 'text-white');
                this.classList.remove('text-gray-600');
                document.getElementById('gridView').classList.remove('bg-[#ef62f9]', 'text-white');
                document.getElementById('gridView').classList.add('text-gray-600');
                renderProducts();
            });

            // Initial render
            renderProducts();
            renderPagination();
            updateProductCount();
            updateCartCount();
        });
    </script>
</body>
</html>
