# ü™ü H∆Ø·ªöNG D·∫™N TRI·ªÇN KHAI MOM-BABY-SHOP TR√äN WINDOWS

> **T·ªîNG QUAN:** T√†i li·ªáu n√†y h∆∞·ªõng d·∫´n chi ti·∫øt c√°ch tri·ªÉn khai d·ª± √°n Mom-Baby-Shop l√™n GitHub Pages t·ª´ m√¥i tr∆∞·ªùng Windows, gi·∫£i th√≠ch c√°c scripts c√≥ s·∫µn, quy tr√¨nh tri·ªÉn khai, v√† c√°ch x·ª≠ l√Ω c√°c s·ª± c·ªë th∆∞·ªùng g·∫∑p.

## üìã **FILE SCRIPT CH√çNH**

### **deploy-win.ps1** (PowerShell Script)
- ‚úÖ **Giao di·ªán**: Hi·ªÉn th·ªã m√†u s·∫Øc v√† th√¥ng tin chi ti·∫øt
- ‚úÖ **T√≠nh nƒÉng ƒëa nƒÉng**: Cung c·∫•p nhi·ªÅu t√πy ch·ªçn th√¥ng qua tham s·ªë
- ‚úÖ **T√≠nh nƒÉng n√¢ng cao**: T·ª± ƒë·ªông ph√°t hi·ªán th√¥ng tin repository v√† ki·ªÉm tra m√¥i tr∆∞·ªùng
- ‚úÖ **Hi·ªán ƒë·∫°i**: T·ªëi ∆∞u cho Windows 7 tr·ªü l√™n

## üöÄ **H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG**

### **S·ª≠ d·ª•ng npm scripts (Khuy·∫øn ngh·ªã)**

```powershell
# M·ªü Command Prompt ho·∫∑c PowerShell t·∫°i th∆∞ m·ª•c d·ª± √°n
cd Mom-baby-shop

# Tri·ªÉn khai ƒë·∫ßy ƒë·ªß (build v√† deploy)
npm run deploy:win

# HO·∫∂C ch·ªâ build cho GitHub Pages
npm run build:win

# HO·∫∂C c·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n h√¨nh ·∫£nh v√† build
npm run update-paths:win

# HO·∫∂C ki·ªÉm tra h·ªá th·ªëng tr∆∞·ªõc khi build
npm run check:win
```

### **S·ª≠ d·ª•ng PowerShell Script tr·ª±c ti·∫øp**

```powershell
# M·ªü PowerShell t·∫°i th∆∞ m·ª•c d·ª± √°n
cd Mom-baby-shop

# Tri·ªÉn khai ƒë·∫ßy ƒë·ªß
powershell -ExecutionPolicy Bypass -File deploy-win.ps1

# HO·∫∂C ch·ªâ build
powershell -ExecutionPolicy Bypass -File deploy-win.ps1 -BuildOnly

# HO·∫∂C c·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n h√¨nh ·∫£nh v√† build
powershell -ExecutionPolicy Bypass -File deploy-win.ps1 -UpdatePaths -BuildOnly

# HO·∫∂C ch·∫°y ki·ªÉm tra tr∆∞·ªõc khi build
powershell -ExecutionPolicy Bypass -File deploy-win.ps1 -Check -BuildOnly
```

**Ho·∫∑c c√°ch ti·ªán l·ª£i h∆°n:**
- Nh·∫•p chu·ªôt ph·∫£i v√†o file `deploy-win.ps1`
- Ch·ªçn "Run with PowerShell"

## ‚öôÔ∏è **QUY TR√åNH TRI·ªÇN KHAI**

### **C√°c b∆∞·ªõc th·ª±c hi·ªán khi ch·∫°y script:**

1. **üßπ D·ªçn d·∫πp build c≈©**: X√≥a th∆∞ m·ª•c `dist` n·∫øu ƒë√£ t·ªìn t·∫°i
2. **üîç Ki·ªÉm tra m√¥i tr∆∞·ªùng**: X√°c minh Node.js, npm v√† c√°c dependencies
3. **üèóÔ∏è Build cho GitHub Pages**: Th·ª±c hi·ªán `npm run build:github` v·ªõi c·∫•u h√¨nh ƒë√∫ng
4. **‚úÖ Ki·ªÉm tra k·∫øt qu·∫£ build**: X√°c minh c√°c file quan tr·ªçng trong th∆∞ m·ª•c `dist`
5. **üìä Hi·ªÉn th·ªã th·ªëng k√™**: K√≠ch th∆∞·ªõc file, s·ªë l∆∞·ª£ng assets
6. **üöÄ Deploy l√™n GitHub Pages**: T√πy ch·ªçn tri·ªÉn khai s·ª≠ d·ª•ng `gh-pages`

### **PowerShell script (deploy-win.ps1) c√≥ c√°c t√≠nh nƒÉng b·ªï sung:**

üåü **Hi·ªÉn th·ªã m√†u s·∫Øc**: D·ªÖ ƒë·ªçc v·ªõi c√°c th√¥ng b√°o ƒë∆∞·ª£c t√¥ m√†u  
üåü **T·ª± ƒë·ªông ph√°t hi·ªán repository**: Hi·ªÉn th·ªã URL GitHub Pages ch√≠nh x√°c  
üåü **Ki·ªÉm tra m√¥i tr∆∞·ªùng ƒë·∫ßy ƒë·ªß**: Ph√°t hi·ªán phi√™n b·∫£n Node.js, npm  
üåü **T·ª± ƒë·ªông c√†i ƒë·∫∑t dependencies**: Ki·ªÉm tra v√† c√†i ƒë·∫∑t n·∫øu c·∫ßn  
üåü **Th·ªëng k√™ chi ti·∫øt**: Hi·ªÉn th·ªã k√≠ch th∆∞·ªõc file, c·∫•u tr√∫c th∆∞ m·ª•c build  

## üîß **X·ª¨ L√ù S·ª∞ C·ªê**

### **1. L·ªói "Execution Policy" khi ch·∫°y PowerShell script:**

```powershell
# C√°ch 1: Thi·∫øt l·∫≠p policy cho user hi·ªán t·∫°i (ch·ªâ c·∫ßn l√†m m·ªôt l·∫ßn)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# C√°ch 2: Ch·∫°y script v·ªõi bypass (m·ªói l·∫ßn ch·∫°y)
powershell -ExecutionPolicy Bypass -File deploy-win.ps1
```

### **2. L·ªói "Node.js kh√¥ng t√¨m th·∫•y":**

1. T·∫£i Node.js t·ª´: https://nodejs.org/ (ch·ªçn phi√™n b·∫£n LTS)
2. C√†i ƒë·∫∑t v·ªõi t√πy ch·ªçn m·∫∑c ƒë·ªãnh (quan tr·ªçng: ch·ªçn "Add to PATH")
3. Kh·ªüi ƒë·ªông l·∫°i Command Prompt/PowerShell
4. Ki·ªÉm tra c√†i ƒë·∫∑t: `node --version` v√† `npm --version`
5. Ch·∫°y l·∫°i script tri·ªÉn khai

### **3. L·ªói khi s·ª≠ d·ª•ng Git ho·∫∑c gh-pages:**

1. C√†i ƒë·∫∑t Git t·ª´: https://git-scm.com/
2. ƒê·∫£m b·∫£o b·∫°n ƒë√£ c√†i ƒë·∫∑t gh-pages: `npm install -g gh-pages`
3. Ki·ªÉm tra c·∫•u h√¨nh remote: `git remote -v`
4. X√°c minh quy·ªÅn truy c·∫≠p repository GitHub c·ªßa b·∫°n

## üìù **T√çCH H·ª¢P GI·ªÆA WINDOWS V√Ä MAC**

D·ª± √°n Mom-baby-shop ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ho·∫°t ƒë·ªông tr√™n c·∫£ Windows v√† macOS/Linux, v·ªõi c√°c script t∆∞∆°ng ·ª©ng cho t·ª´ng n·ªÅn t·∫£ng.

| T√≠nh nƒÉng | macOS/Linux | Windows (batch) | Windows (PowerShell) |
|-----------|-------------|-----------------|---------------------|
| Script ch√≠nh | `deploy-mac.sh` | `deploy-win.ps1` |
| Build GitHub Pages | `npm run build:mac` | `npm run build:win` |
| C·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n | `npm run update-paths:mac` | `npm run update-paths:win` |
| Ki·ªÉm tra h·ªá th·ªëng | `npm run check:mac` | `npm run check:win` |
| Tri·ªÉn khai | `npm run deploy` | `npx gh-pages -d dist` | `npx gh-pages -d dist` |

> **L∆∞u √Ω:** Windows c√≥ th·ªÉ ch·∫°y c√°c file `.sh` th√¥ng qua Windows Subsystem for Linux (WSL) n·∫øu ƒë√£ c√†i ƒë·∫∑t.

## üéØ **KHUY·∫æN NGH·ªä S·ª¨ D·ª§NG**

### **D√†nh cho ng∆∞·ªùi m·ªõi:**
```cmd
# ƒê∆°n gi·∫£n nh·∫•t - ch·ªâ c·∫ßn double-click v√†o deploy-win.ps1 trong Windows Explorer v√† ch·ªçn "Run with PowerShell"
deploy-win.ps1
```
**∆Øu ƒëi·ªÉm:**
- ‚úÖ ƒê∆°n gi·∫£n, d·ªÖ hi·ªÉu
- ‚úÖ Kh√¥ng c·∫ßn c√†i ƒë·∫∑t th√™m
- ‚úÖ Ho·∫°t ƒë·ªông tr√™n m·ªçi phi√™n b·∫£n Windows 
- ‚úÖ T·ª± ƒë·ªông h∆∞·ªõng d·∫´n khi g·∫∑p l·ªói

### **D√†nh cho nh√† ph√°t tri·ªÉn:**
```powershell
# M·ªü PowerShell v√† ch·∫°y
cd ƒë∆∞·ªùng\d·∫´n\ƒë·∫øn\Mom-baby-shop
.\deploy-win.ps1
```
**∆Øu ƒëi·ªÉm:**
- ‚úÖ Hi·ªÉn th·ªã th√¥ng tin chi ti·∫øt v·ªõi m√†u s·∫Øc
- ‚úÖ Ph√°t hi·ªán v√† x·ª≠ l√Ω l·ªói t·ªët h∆°n
- ‚úÖ T·ª± ƒë·ªông ki·ªÉm tra m√¥i tr∆∞·ªùng ƒë·∫ßy ƒë·ªß
- ‚úÖ Hi·ªÉn th·ªã th·ªëng k√™ chi ti·∫øt v·ªÅ build

## üîÑ **CHI TI·∫æT QUY TR√åNH TRI·ªÇN KHAI**

### **1. Quy tr√¨nh tri·ªÉn khai t·ª± ƒë·ªông:**

1. **üßπ D·ªçn d·∫πp th∆∞ m·ª•c build c≈©**
   ```powershell
   # PowerShell
   Remove-Item -Recurse -Force "dist"
   ```

2. **üîç Ki·ªÉm tra m√¥i tr∆∞·ªùng ph√°t tri·ªÉn**
   ```powershell
   # Ki·ªÉm tra Node.js v√† npm
   node --version
   npm --version
   ```

3. **üèóÔ∏è Build d·ª± √°n cho GitHub Pages**
   ```powershell
   # Script s·∫Ω th·ª±c hi·ªán build cho GitHub Pages
   npm run build:win
   ```

4. **‚úÖ X√°c minh k·∫øt qu·∫£ build**
   ```powershell
   # Ki·ªÉm tra c√°c file quan tr·ªçng
   Test-Path "dist\index.html"
   Test-Path "dist\assets"
   ```

5. **üöÄ Tri·ªÉn khai l√™n GitHub Pages**
   ```powershell
   # Deploy b·∫±ng gh-pages
   npx gh-pages -d dist
   ```

### **2. K·∫øt qu·∫£ c·ªßa quy tr√¨nh tri·ªÉn khai:**

```
‚úÖ Build successful!
‚úÖ index.html found (1.33 KB)
‚úÖ Assets folder found (5 files)
  - index-1a2b3c.css (7.3 KB)
  - index-4d5e6f.js (52.0 KB)
  - vendor-7g8h9i.js (53.5 KB)
‚úÖ 404.html found (SPA routing support)
‚úÖ No CNAME file (good for default GitHub Pages)

üìä Total size: 4.8 MB

üåê Your site will be available at:
https://your-username.github.io/Mom-baby-shop/
```

## üÜò **H·ªñ TR·ª¢ X·ª¨ L√ù C√ÅC L·ªñI TH∆Ø·ªúNG G·∫∂P**

### **C√°c b∆∞·ªõc x·ª≠ l√Ω s·ª± c·ªë:**

1. **Ki·ªÉm tra logs:** ƒê·ªçc k·ªπ th√¥ng b√°o l·ªói t·ª´ script
   ```powershell
   # Xem l·ªãch s·ª≠ l·ªánh PowerShell g·∫ßn ƒë√¢y
   Get-History
   ```

2. **Build th·ªß c√¥ng:** Th·ª≠ t·ª´ng b∆∞·ªõc m·ªôt
   ```powershell
   # X√≥a build c≈©
   Remove-Item -Recurse -Force dist
   
   # Build th·ªß c√¥ng
   npm run build:github
   
   # Ki·ªÉm tra k·∫øt qu·∫£
   Get-ChildItem dist -Recurse | Select-Object Name, Length
   ```

3. **Ki·ªÉm tra dependencies:**
   ```powershell
   # X√≥a v√† c√†i ƒë·∫∑t l·∫°i dependencies
   npm ci
   # ho·∫∑c
   npm install
   ```

4. **Ki·ªÉm tra c·∫•u h√¨nh repository:**
   ```powershell
   # Xem th√¥ng tin remote
   git remote -v
   
   # Ki·ªÉm tra t√™n nh√°nh hi·ªán t·∫°i
   git branch
   ```

5. **X·ª≠ l√Ω l·ªói r√µ r√†ng:** D·ª±a v√†o m√£ l·ªói
   - **404 sau khi deploy:** Ki·ªÉm tra l·∫°i base path trong `vite.config.ts`
   - **L·ªói JavaScript:** S·ª≠a l·ªói c√∫ ph√°p trong m√£ ngu·ªìn
   - **Sai ƒë∆∞·ªùng d·∫´n t√†i nguy√™n:** Ch·∫°y `npm run update-paths:win` ƒë·ªÉ c·∫≠p nh·∫≠t

### **T√†i li·ªáu h∆∞·ªõng d·∫´n b·ªï sung:**

- `README.md` - T·ªïng quan d·ª± √°n
- `GUIDE_TROUBLESHOOTING.md` - H∆∞·ªõng d·∫´n x·ª≠ l√Ω s·ª± c·ªë chi ti·∫øt
- `GUIDE_SCRIPTS.md` - H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng t·∫•t c·∫£ c√°c scripts
- `GUIDE_PATH_UPDATE.md` - Th√¥ng tin v·ªÅ c·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n

---

**üí° M·∫πo quan tr·ªçng:** 
1. **Lu√¥n sao l∆∞u tr∆∞·ªõc khi tri·ªÉn khai:** Commit changes tr∆∞·ªõc khi build
2. **Ki·ªÉm tra preview:** S·ª≠ d·ª•ng `npm run preview:github` tr∆∞·ªõc khi deploy
3. **Ch·∫°y t·ª´ th∆∞ m·ª•c g·ªëc:** ƒê·∫£m b·∫£o ch·∫°y script t·ª´ th∆∞ m·ª•c d·ª± √°n ch√≠nh (ch·ª©a file package.json)

---

## üß© **T√çNH NƒÇNG TRI·ªÇN KHAI MOM-BABY-SHOP**

### **1. Qu·∫£n l√Ω ƒë∆∞·ªùng d·∫´n t√†i nguy√™n th√¥ng minh**

D·ª± √°n s·ª≠ d·ª•ng `src/lib/assets.ts` ƒë·ªÉ qu·∫£n l√Ω ƒë∆∞·ªùng d·∫´n t√†i nguy√™n tr√™n nhi·ªÅu m√¥i tr∆∞·ªùng:

```typescript
// V√≠ d·ª• s·ª≠ d·ª•ng helper function cho h√¨nh ·∫£nh
import { getImagePath } from "../../lib/assets";

// Thay v√¨ s·ª≠ d·ª•ng ƒë∆∞·ªùng d·∫´n c·ª©ng
const imageSrc = getImagePath("images/stroller-1.png");
```

Gi√∫p t·ª± ƒë·ªông x·ª≠ l√Ω c√°c ƒë∆∞·ªùng d·∫´n kh√°c nhau gi·ªØa:
- **M√¥i tr∆∞·ªùng ph√°t tri·ªÉn**: `/images/stroller-1.png`
- **GitHub Pages**: `/Mom-baby-shop/images/stroller-1.png`

### **2. C·∫•u h√¨nh Vite th√¥ng minh**

File `vite.config.ts` t·ª± ƒë·ªông ph√°t hi·ªán m√¥i tr∆∞·ªùng tri·ªÉn khai:

```typescript
export default defineConfig(({ mode }) => {
  // T·ª± ƒë·ªông ph√°t hi·ªán GitHub Pages build
  const isGitHubBuild = process.env.BUILD_FOR_GITHUB === 'true';
  
  return {
    base: isGitHubBuild ? '/Mom-baby-shop/' : '/',
    // C·∫•u h√¨nh kh√°c...
  };
});
```

### **3. Ki·ªÉm tra tr∆∞·ªõc khi tri·ªÉn khai**

Tr∆∞·ªõc khi deploy l√™n GitHub Pages, b·∫°n n√™n:

1. **Preview build GitHub Pages** (m√¥ ph·ªèng m√¥i tr∆∞·ªùng th·ª±c t·∫ø)
   ```cmd
   npm run preview:github
   ```
   Sau ƒë√≥ truy c·∫≠p: http://localhost:4173/Mom-baby-shop/

2. **Ki·ªÉm tra x·ª≠ l√Ω ƒë∆∞·ªùng d·∫´n h√¨nh ·∫£nh**
   - ƒê·∫£m b·∫£o t·∫•t c·∫£ h√¨nh ·∫£nh c√≥ th·ªÉ t·∫£i ƒë∆∞·ª£c
   - Ki·ªÉm tra n·∫øu c√≥ l·ªói 404 trong console

3. **X√°c minh ch·ª©c nƒÉng**
   - Th·ª≠ nghi·ªám t·∫•t c·∫£ ch·ª©c nƒÉng ch√≠nh
   - ƒê·∫∑c bi·ªát ch√∫ √Ω ƒë·∫øn c√°c trang c√≥ ch·ª©c nƒÉng login/ƒëƒÉng k√Ω

### **4. S·ª≠ d·ª•ng c√°c scripts ƒë·∫∑c th√π**

| Script | M·ª•c ƒë√≠ch | C√°ch s·ª≠ d·ª•ng tr√™n Windows |
|--------|----------|----------------------------|
| `build:github` | Build cho GitHub Pages | `npm run build:github` |
| `preview:github` | Preview build GitHub | `npm run preview:github` |
| `deploy` | Deploy l√™n GitHub Pages | `npm run deploy` |
| `update-paths` | C·∫≠p nh·∫≠t ƒë∆∞·ªùng d·∫´n | Y√™u c·∫ßu WSL ho·∫∑c Git Bash |

---

# üéØ **HO√ÄN TH√ÄNH**

Sau khi tri·ªÉn khai th√†nh c√¥ng:

1. **GitHub Pages s·∫Ω hi·ªÉn th·ªã trang web t·∫°i URL:**
   ```
   https://your-username.github.io/Mom-baby-shop/
   ```

2. **C·∫ßn kho·∫£ng 2-5 ph√∫t** ƒë·ªÉ thay ƒë·ªïi ƒë∆∞·ª£c √°p d·ª•ng tr√™n GitHub Pages

3. **Th·ª≠ nghi·ªám v·ªõi ch·∫ø ƒë·ªô Incognito/Private** ƒë·ªÉ tr√°nh v·∫•n ƒë·ªÅ b·ªô nh·ªõ cache

4. **Th√¥ng b√°o th√†nh c√¥ng cu·ªëi c√πng:**
   ```
   ‚úÖ Deployment successful!
   üåê Your site will be available at:
   https://your-username.github.io/Mom-baby-shop/
   ```
